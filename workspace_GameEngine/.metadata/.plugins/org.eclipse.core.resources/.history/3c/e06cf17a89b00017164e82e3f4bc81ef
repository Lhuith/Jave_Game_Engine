package com.base.engine;

public class Door 
{
	//NOTE: ADD Top and bottom faces if needed
	
	private static final float LENGTH = 1;
	private static final float HEIGHT = 1;
	private static final float WIDTH = 0.125f;
	private static final float START = 0;
	
	private static Mesh mesh;
	private Material material;
	private Transform transform;
	
	public Door(Transform transform, Material material)
	{
		this.material = material;
		this.transform = transform;
		if(mesh == null)
		{
			Vertex[] vertices = new Vertex[]
					{
							new Vertex(new Vector3f(START,START,START), new Vector2f(0.5f,1)),
							new Vertex(new Vector3f(START, HEIGHT,START), new Vector2f(0.5f,0.75f)),
							new Vertex(new Vector3f(LENGTH, HEIGHT,START), new Vector2f(0.75f, 0.75f)),
							new Vertex(new Vector3f(LENGTH,START,START), new Vector2f(0.75f, 1)),
							
							new Vertex(new Vector3f(START,START,START), new Vector2f(0.73f, 0.75f)),
							new Vertex(new Vector3f(START,HEIGHT,START), new Vector2f(0.73f, 0.75f)),
							new Vertex(new Vector3f(START,HEIGHT,WIDTH),  new Vector2f(0.75f, 0.75f)),
							new Vertex(new Vector3f(START,START,WIDTH), new Vector2f(0.75f, 1)),
							
							new Vertex(new Vector3f(START,START,WIDTH), new Vector2f(0,0)),
							new Vertex(new Vector3f(START, HEIGHT,WIDTH), new Vector2f(0,0)),
							new Vertex(new Vector3f(LENGTH, HEIGHT,WIDTH), new Vector2f(0,0)),
							new Vertex(new Vector3f(LENGTH,START,WIDTH), new Vector2f(0,0)),
							
							new Vertex(new Vector3f(LENGTH,START,START), new Vector2f(0,0)),
							new Vertex(new Vector3f(LENGTH,HEIGHT,START), new Vector2f(0,0)),
							new Vertex(new Vector3f(LENGTH,HEIGHT,WIDTH), new Vector2f(0,0)),
							new Vertex(new Vector3f(LENGTH,START,WIDTH), new Vector2f(0,0)),
					};
			
			int[] indices = new int []{0, 1, 2,
									   0, 2, 3,
									   
									   6, 5, 4,
									   7, 6, 4,
									   
									   10, 9, 8,
									   11, 10, 8,
									   
									   12, 13, 14,
									   12, 14, 15};
			
			mesh = new Mesh(vertices, indices);
			//TODO: create door mesh
		}
	}
	
	public void update()
	{
		
	}
	
	public void render()
	{
		Shader shader = Game.getLevel().getShader();
		shader.updateUniforms(transform.getTransformation(), transform.getProjectedTransformation(), material);
		//TODO Bind/update shader
		mesh.draw();
	}
	
	
}
